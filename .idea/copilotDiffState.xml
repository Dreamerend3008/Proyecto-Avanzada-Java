<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/README.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/README.md" />
              <option name="originalContent" value="#  Guía de Desarrollo - Trading Bot Client&#10;&#10;&gt; ** ¿Nuevo en el proyecto?** Comienza con **[INDICE.md](INDICE.md)** para saber por dónde empezar.&#10;&gt;&#10;&gt; ** ¿Es tu primer día?** Ve directo a **[TUTORIAL_PRIMER_DIA.md](TUTORIAL_PRIMER_DIA.md)** - configuración paso a paso en 2-3 horas.&#10;&#10;---&#10;&#10;##  Tabla de Contenidos&#10;1. [Requisitos Mínimos](#requisitos-mínimos)&#10;2. [Configuración Inicial](#configuración-inicial)&#10;3. [Estructura del Proyecto](#estructura-del-proyecto)&#10;4. [Arquitectura y Componentes](#arquitectura-y-componentes)&#10;5. [Cómo Probar que Funciona](#cómo-probar-que-funciona)&#10;6. [Desarrollo de Lógica de Negocio](#desarrollo-de-lógica-de-negocio)&#10;7. [Estándares de Código](#estándares-de-código)&#10;8. [Comandos Útiles](#comandos-útiles)&#10;9. [Solución de Problemas](#solución-de-problemas)&#10;&#10;---&#10;&#10;##  Requisitos Mínimos&#10;&#10;### Software Necesario&#10;1. **Java Development Kit (JDK) 25**&#10;   - Descargar de: https://www.oracle.com/java/technologies/downloads/&#10;   - Verificar instalación: `java -version`&#10;   - Debe mostrar versión 25.x.x&#10;&#10;2. **Git**&#10;   - Descargar de: https://git-scm.com/&#10;   - Verificar: `git --version`&#10;&#10;3. **IDE Recomendado**&#10;   - IntelliJ IDEA Community/Ultimate (recomendado)&#10;   - Eclipse con soporte Java 25&#10;   - VS Code con extensión Java&#10;&#10;4. **Cuenta de GitHub**&#10;   - Necesaria para acceder al SDK privado&#10;   - Crear token de acceso personal (PAT)&#10;&#10;### Conocimientos Previos Recomendados&#10;- Java básico (clases, interfaces, excepciones)&#10;- Conceptos de programación orientada a objetos&#10;- Uso básico de Git&#10;- JSON básico&#10;&#10;---&#10;&#10;## ⚙️ Configuración Inicial&#10;&#10;### Paso 1: Clonar el Repositorio&#10;```bash&#10;git clone https://github.com/tu-usuario/Proyecto-Avanzada-Java.git&#10;cd Proyecto-Avanzada-Java&#10;```&#10;&#10;### Paso 2: Configurar Credenciales de GitHub&#10;El proyecto usa un SDK privado de GitHub Packages. Necesitas configurar tus credenciales:&#10;&#10;1. **Crear archivo `gradle.properties`** en la raíz del proyecto (copia del sample):&#10;```bash&#10;copy gradle.properties.sample gradle.properties&#10;```&#10;&#10;2. **Editar `gradle.properties`** con tus credenciales:&#10;```properties&#10;gpr.user=TU_USUARIO_GITHUB&#10;gpr.token=TU_TOKEN_GITHUB&#10;&#10;org.gradle.daemon=true&#10;org.gradle.caching=true&#10;org.gradle.configuration-cache=true&#10;```&#10;&#10;3. **Crear GitHub Personal Access Token (PAT)**:&#10;   - Ve a GitHub → Settings → Developer settings → Personal access tokens → Tokens (classic)&#10;   - Click &quot;Generate new token (classic)&quot;&#10;   - Selecciona el scope: `read:packages`&#10;   - Copia el token generado y pégalo en `gradle.properties`&#10;&#10;### Paso 3: Configurar el Archivo de Configuración&#10;1. **Crear archivo de configuración** (copia del sample):&#10;```bash&#10;copy src\main\resources\config.sample.json src\main\resources\config.json&#10;```&#10;&#10;2. **Editar `src\main\resources\config.json`** con tus credenciales del servidor:&#10;```json&#10;{&#10;  &quot;apiKey&quot;: &quot;TU_API_KEY_DEL_SERVIDOR&quot;,&#10;  &quot;team&quot;: &quot;Nombre de Tu Equipo&quot;,&#10;  &quot;host&quot;: &quot;wss://trading.hellsoft.tech/ws&quot;&#10;}&#10;```&#10;&#10;⚠️ **IMPORTANTE**: Los archivos `gradle.properties` y `config.json` están en `.gitignore`. &#10;**NUNCA los subas a Git** porque contienen información sensible.&#10;&#10;### Paso 4: Verificar la Instalación&#10;```bash&#10;# En Windows&#10;gradlew.bat build&#10;&#10;# Debería compilar sin errores&#10;```&#10;&#10;---&#10;&#10;##  Estructura del Proyecto&#10;&#10;```&#10;Proyecto-Avanzada-Java/&#10;├── src/main/java/tech/hellsoft/trading/&#10;│   ├── Main.java                          # Punto de entrada de la aplicación&#10;│   ├── config/&#10;│   │   └── Configuration.java             # Record para configuración&#10;│   ├── exception/&#10;│   │   ├── ConfiguracionInvalidaException.java&#10;│   │   └── TradingException.java          # Excepciones del dominio&#10;│   ├── model/&#10;│   │   ├── Recipe.java                    # Modelo de recetas de productos&#10;│   │   └── Role.java                      # Modelo de roles de jugador&#10;│   ├── service/&#10;│   │   ├── TradingService.java            # Interface principal de trading&#10;│   │   ├── UIService.java                 # Interface para UI/consola&#10;│   │   └── impl/&#10;│   │       ├── SDKTradingService.java     # Implementación con SDK&#10;│   │       └── ConsoleUIService.java      # Implementación de consola&#10;│   └── util/&#10;│       ├── ConfigLoader.java              # Utilidad para cargar config&#10;│       └── TradingUtils.java              # Utilidades generales&#10;├── src/main/resources/&#10;│   ├── config.json                        # TU configuración (no subir a Git)&#10;│   └── config.sample.json                 # Plantilla de configuración&#10;├── build.gradle.kts                       # Configuración de Gradle&#10;├── gradle.properties                      # TUS credenciales (no subir a Git)&#10;└── gradle.properties.sample               # Plantilla de credenciales&#10;```&#10;&#10;---&#10;&#10;## ️ Arquitectura y Componentes&#10;&#10;### Componentes Principales&#10;&#10;#### 1. **Main.java** - Punto de Entrada&#10;- Inicializa todos los servicios&#10;- Carga la configuración&#10;- Maneja el ciclo de vida de la aplicación&#10;- Gestiona el shutdown gracefully&#10;&#10;#### 2. **TradingService** - Servicio Principal&#10;**Interface**: Define el contrato para operaciones de trading&#10;```java&#10;public interface TradingService {&#10;    void start(Configuration config);&#10;    void stop();&#10;    boolean isRunning();&#10;}&#10;```&#10;&#10;**SDKTradingService**: Implementación que:&#10;- Se conecta al servidor WebSocket&#10;- Maneja eventos del servidor (login, órdenes, tickers, etc.)&#10;- **AQUÍ es donde ustedes agregarán la lógica de trading**&#10;&#10;#### 3. **UIService** - Servicio de Interfaz&#10;- Imprime mensajes en la consola con colores&#10;- Muestra estado del bot&#10;- Útil para debugging&#10;&#10;#### 4. **Configuration** - Configuración&#10;Record inmutable que contiene:&#10;- `apiKey`: Tu clave de API del servidor&#10;- `team`: Nombre de tu equipo&#10;- `host`: URL del servidor WebSocket&#10;&#10;#### 5. **Modelos de Dominio**&#10;- **Recipe**: Representa recetas de productos (qué ingredientes se necesitan)&#10;- **Role**: Representa el rol del jugador (energía, niveles, etc.)&#10;&#10;---&#10;&#10;## ✅ Cómo Probar que Funciona&#10;&#10;### Prueba 1: Compilación Exitosa&#10;```bash&#10;gradlew.bat clean build&#10;```&#10;&#10;**Resultado esperado:**&#10;```&#10;BUILD SUCCESSFUL in Xs&#10;```&#10;&#10;### Prueba 2: Ejecutar la Aplicación&#10;```bash&#10;gradlew.bat run&#10;```&#10;&#10;**Resultado esperado:**&#10;```&#10;╔══════════════════════════════════════════════════════════════╗&#10;║                                                              ║&#10;║   SPACIAL TRADING BOT CLIENT - Java 25 Edition          ║&#10;║                                                              ║&#10;║   Bolsa Interestelar de Aguacates Andorianos              ║&#10;║  Ready for trading operations...                            ║&#10;║                                                              ║&#10;╚════════════════════════════════════════════════════════════╝&#10;&#10;ℹ️  Configuration loaded successfully:&#10;   Team: Nombre de Tu Equipo&#10;   Host: wss://trading.hellsoft.tech/ws&#10;   API Key: sk_t***xxxx&#10;&#10; Connecting to trading server...&#10;⏳ Waiting for login response...&#10;✅ Login successful! Ready for trading operations.&#10;✅ Login OK received!&#10;   Team: tu-equipo&#10;   Species: HUMANO&#10;   Initial Balance: 1000000.0&#10;   Current Balance: 1000000.0&#10;&#10;ℹ️  Press Ctrl+C to shutdown gracefully...&#10;```&#10;&#10;### Prueba 3: Verificar Linting (Calidad de Código)&#10;```bash&#10;gradlew.bat checkstyleMain pmdMain&#10;```&#10;&#10;**Resultado esperado:** Sin errores críticos&#10;&#10;### Prueba 4: Ejecutar Tests (cuando existan)&#10;```bash&#10;gradlew.bat test&#10;```&#10;&#10;---&#10;&#10;##  Desarrollo de Lógica de Negocio&#10;&#10;### ¿Dónde Agregar Tu Código?&#10;&#10;#### Opción 1: Modificar SDKTradingService&#10;El archivo `SDKTradingService.java` ya tiene un `EventListener` interno que recibe eventos del servidor.&#10;&#10;**Eventos que recibes del servidor:**&#10;- `onLoginOk()` - Cuando te conectas exitosamente&#10;- `onTicker()` - Actualización de precios de mercado&#10;- `onOffer()` - Ofertas de compra/venta&#10;- `onFill()` - Cuando se ejecuta una orden&#10;- `onInventoryUpdate()` - Cambios en tu inventario&#10;- `onBalanceUpdate()` - Cambios en tu saldo&#10;- `onOrderAck()` - Confirmación de órdenes&#10;- `onError()` - Errores del servidor&#10;&#10;**Ejemplo de cómo agregar lógica:**&#10;&#10;```java&#10;@Override&#10;public void onTicker(TickerMessage ticker) {&#10;    listenerUiService.printStatus(&quot;&quot;,&#10;        &quot;Ticker update: &quot; + ticker.getProduct() + &#10;        &quot; Bid:&quot; + ticker.getBestBid() + &#10;        &quot; Ask:&quot; + ticker.getBestAsk());&#10;    &#10;    //  AGREGA TU LÓGICA AQUÍ&#10;    analizarOportunidadDeCompra(ticker);&#10;}&#10;&#10;private void analizarOportunidadDeCompra(TickerMessage ticker) {&#10;    // Tu estrategia de trading aquí&#10;    if (ticker.getBestAsk() &lt; precioObjetivo) {&#10;        // Enviar orden de compra&#10;        connector.enviarOrden(...);&#10;    }&#10;}&#10;```&#10;&#10;#### Opción 2: Crear Nuevos Servicios&#10;Puedes crear nuevos servicios especializados:&#10;&#10;**Ejemplo: StrategyService**&#10;```java&#10;// src/main/java/tech/hellsoft/trading/service/StrategyService.java&#10;public interface StrategyService {&#10;    Decision analizarMercado(TickerMessage ticker);&#10;    boolean deberiaComprar(String producto, double precio);&#10;    boolean deberiaVender(String producto, double precio);&#10;}&#10;```&#10;&#10;**Ejemplo: InventoryManager**&#10;```java&#10;// src/main/java/tech/hellsoft/trading/service/InventoryManager.java&#10;public class InventoryManager {&#10;    private Map&lt;String, Integer&gt; inventarioActual = new HashMap&lt;&gt;();&#10;    &#10;    public void actualizar(InventoryUpdateMessage update) {&#10;        // Mantener registro de tu inventario&#10;    }&#10;    &#10;    public boolean tieneStock(String producto, int cantidad) {&#10;        return inventarioActual.getOrDefault(producto, 0) &gt;= cantidad;&#10;    }&#10;}&#10;```&#10;&#10;### Casos de Uso Típicos&#10;&#10;#### Caso 1: Market Maker Simple&#10;```java&#10;// Comprar barato, vender caro con un spread&#10;@Override&#10;public void onTicker(TickerMessage ticker) {&#10;    double spread = 0.05; // 5% de ganancia&#10;    &#10;    if (ticker.getBestAsk() &gt; 0) {&#10;        double precioCompra = ticker.getBestAsk();&#10;        double precioVenta = precioCompra * (1 + spread);&#10;        &#10;        // Comprar al mejor precio de venta&#10;        // Vender a precio + spread&#10;    }&#10;}&#10;```&#10;&#10;#### Caso 2: Arbitraje de Productos&#10;```java&#10;// Comprar productos básicos, crear productos complejos&#10;public void intentarCrafteo(Recipe receta) {&#10;    // 1. Verificar que tienes todos los ingredientes&#10;    // 2. Calcular costo total de ingredientes&#10;    // 3. Comparar con precio de venta del producto final&#10;    // 4. Si es rentable, realizar el crafteo&#10;}&#10;```&#10;&#10;#### Caso 3: Gestión de Riesgo&#10;```java&#10;public class RiskManager {&#10;    private double maxExposurePorProducto = 0.1; // 10% del capital&#10;    &#10;    public boolean puedeComprar(String producto, int cantidad, double precio) {&#10;        double exposicion = cantidad * precio;&#10;        double capitalTotal = obtenerCapitalTotal();&#10;        &#10;        return exposicion &lt;= (capitalTotal * maxExposurePorProducto);&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;##  Estándares de Código&#10;&#10;### Regla de Oro: **NO usar `else`**&#10;&#10;❌ **MAL:**&#10;```java&#10;if (precio &gt; 100) {&#10;    comprar();&#10;} else {&#10;    vender();&#10;}&#10;```&#10;&#10;✅ **BIEN:**&#10;```java&#10;if (precio &gt; 100) {&#10;    comprar();&#10;    return;&#10;}&#10;vender();&#10;```&#10;&#10;### Convenciones de Nombres&#10;&#10;```java&#10;// Clases: UpperCamelCase&#10;public class OrdenManager { }&#10;&#10;// Métodos y variables: lowerCamelCase&#10;private double precioActual;&#10;public void calcularGanancia() { }&#10;&#10;// Constantes: UPPER_SNAKE_CASE&#10;private static final int MAX_INTENTOS = 3;&#10;&#10;// Packages: lowercase&#10;package tech.hellsoft.trading.strategy;&#10;```&#10;&#10;### Guard Clauses (Cláusulas de Guarda)&#10;&#10;✅ Valida parámetros al inicio:&#10;```java&#10;public void procesarOrden(Orden orden) {&#10;    if (orden == null) {&#10;        throw new IllegalArgumentException(&quot;Orden no puede ser null&quot;);&#10;    }&#10;    if (orden.getCantidad() &lt;= 0) {&#10;        throw new IllegalArgumentException(&quot;Cantidad debe ser positiva&quot;);&#10;    }&#10;    if (!tieneCapital(orden)) {&#10;        throw new SaldoInsuficienteException();&#10;    }&#10;    &#10;    // Lógica principal aquí&#10;    ejecutarOrden(orden);&#10;}&#10;```&#10;&#10;### Uso de Records (Java 25)&#10;&#10;```java&#10;// Para datos inmutables&#10;public record OrdenCompra(&#10;    String producto,&#10;    int cantidad,&#10;    double precio,&#10;    LocalDateTime timestamp&#10;) {&#10;    // Validación en el constructor compacto&#10;    public OrdenCompra {&#10;        if (cantidad &lt;= 0) {&#10;            throw new IllegalArgumentException(&quot;Cantidad inválida&quot;);&#10;        }&#10;    }&#10;}&#10;```&#10;&#10;### Manejo de Excepciones&#10;&#10;```java&#10;// Crea excepciones específicas de tu dominio&#10;public class CapitalInsuficienteException extends TradingException {&#10;    public CapitalInsuficienteException(double requerido, double disponible) {&#10;        super(String.format(&quot;Capital insuficiente. Requerido: %.2f, Disponible: %.2f&quot;,&#10;            requerido, disponible));&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;## ️ Comandos Útiles&#10;&#10;### Compilación y Build&#10;```bash&#10;# Limpiar y compilar todo&#10;gradlew.bat clean build&#10;&#10;# Solo compilar (sin tests ni linting)&#10;gradlew.bat compileJava&#10;&#10;# Ver dependencias&#10;gradlew.bat dependencies&#10;```&#10;&#10;### Ejecución&#10;```bash&#10;# Ejecutar la aplicación&#10;gradlew.bat run&#10;&#10;# Ejecutar con argumentos (si agregas soporte)&#10;gradlew.bat run --args=&quot;--config custom.json&quot;&#10;```&#10;&#10;### Calidad de Código&#10;```bash&#10;# Checkstyle (estilo de código)&#10;gradlew.bat checkstyleMain&#10;&#10;# PMD (detección de bugs)&#10;gradlew.bat pmdMain&#10;&#10;# Formatear código automáticamente&#10;gradlew.bat spotlessApply&#10;&#10;# Ver reportes de calidad&#10;# Abrir: build/reports/checkstyle/main.html&#10;# Abrir: build/reports/pmd/main.html&#10;```&#10;&#10;### Testing&#10;```bash&#10;# Ejecutar todos los tests&#10;gradlew.bat test&#10;&#10;# Ejecutar tests específicos&#10;gradlew.bat test --tests &quot;ConfigLoaderTest&quot;&#10;&#10;# Ver reporte de tests&#10;# Abrir: build/reports/tests/test/index.html&#10;```&#10;&#10;### Empaquetado&#10;```bash&#10;# Crear JAR ejecutable&#10;gradlew.bat jar&#10;&#10;# Crear distribución completa&#10;gradlew.bat distZip&#10;&#10;# El JAR estará en: build/libs/&#10;# La distribución en: build/distributions/&#10;```&#10;&#10;---&#10;&#10;##  Solución de Problemas&#10;&#10;### Error: &quot;Configuration file not found&quot;&#10;**Causa:** No existe `src/main/resources/config.json`&#10;&#10;**Solución:**&#10;```bash&#10;copy src\main\resources\config.sample.json src\main\resources\config.json&#10;```&#10;Luego edita `config.json` con tus credenciales.&#10;&#10;### Error: &quot;401 Unauthorized&quot; al compilar&#10;**Causa:** Credenciales de GitHub incorrectas o faltantes&#10;&#10;**Solución:**&#10;1. Verifica que existe `gradle.properties`&#10;2. Verifica que `gpr.user` es tu usuario de GitHub&#10;3. Verifica que `gpr.token` es un PAT válido con permiso `read:packages`&#10;4. Regenera el token si es necesario&#10;&#10;### Error: &quot;Login failed&quot;&#10;**Causa:** API key incorrecta o servidor no disponible&#10;&#10;**Solución:**&#10;1. Verifica que `config.json` tiene el `apiKey` correcto&#10;2. Verifica que el servidor está corriendo&#10;3. Verifica la URL del `host` en `config.json`&#10;&#10;### La aplicación se cierra inmediatamente&#10;**Causa:** Error en la lógica del método `isRunning()`&#10;&#10;**Solución:**&#10;- Revisa los logs en la consola&#10;- Verifica que `tradingService.start()` se ejecuta correctamente&#10;- Agrega más logging en `SDKTradingService`&#10;&#10;### Errores de Checkstyle/PMD&#10;**Causa:** Código no cumple con los estándares&#10;&#10;**Solución:**&#10;```bash&#10;# Ver errores específicos&#10;gradlew.bat checkstyleMain&#10;&#10;# Formatear automáticamente (arregla muchos errores)&#10;gradlew.bat spotlessApply&#10;&#10;# Ver reporte detallado&#10;# Abrir: build/reports/checkstyle/main.html&#10;```&#10;&#10;### OutOfMemoryError&#10;**Causa:** Gradle necesita más memoria&#10;&#10;**Solución:** Edita `gradle.properties`:&#10;```properties&#10;org.gradle.jvmargs=-Xmx2048m -XX:MaxMetaspaceSize=512m&#10;```&#10;&#10;### IDE no reconoce clases del SDK&#10;**Causa:** Dependencies no sincronizadas&#10;&#10;**Solución en IntelliJ:**&#10;1. Click derecho en el proyecto → &quot;Reload Gradle Project&quot;&#10;2. File → Invalidate Caches → Invalidate and Restart&#10;&#10;---&#10;&#10;##  Flujo de Trabajo Recomendado&#10;&#10;### Para Empezar a Desarrollar&#10;&#10;1. **Crear una rama para tu feature**&#10;```bash&#10;git checkout -b feature/mi-estrategia-trading&#10;```&#10;&#10;2. **Escribir el código**&#10;   - Implementa tu lógica en `SDKTradingService` o crea nuevos servicios&#10;   - Sigue los estándares de código (no `else`, guard clauses, etc.)&#10;&#10;3. **Probar localmente**&#10;```bash&#10;gradlew.bat build&#10;gradlew.bat run&#10;```&#10;&#10;4. **Verificar calidad de código**&#10;```bash&#10;gradlew.bat checkstyleMain pmdMain&#10;gradlew.bat spotlessApply  # Si hay errores de formato&#10;```&#10;&#10;5. **Commit y Push**&#10;```bash&#10;git add .&#10;git commit -m &quot;feat: implementar estrategia de arbitraje&quot;&#10;git push origin feature/mi-estrategia-trading&#10;```&#10;&#10;6. **Crear Pull Request en GitHub**&#10;&#10;### Trabajo en Equipo&#10;&#10;- **Comunicación:** Coordinen quién trabaja en qué para evitar conflictos&#10;- **Code Reviews:** Revisen el código de otros antes de mergear&#10;- **Testing:** Prueben los cambios de otros en sus máquinas&#10;- **Documentación:** Comenten código complejo&#10;- **Git:** Hagan commits pequeños y frecuentes con mensajes claros&#10;&#10;---&#10;&#10;##  Recursos Adicionales&#10;&#10;### Documentación del SDK&#10;- Ver `ConectorBolsa` y sus métodos&#10;- Ver DTOs en `tech.hellsoft.trading.dto.server.*`&#10;- Ver `EventListener` y todos los eventos disponibles&#10;&#10;### Java 25 Features&#10;- Records&#10;- Pattern Matching&#10;- Switch Expressions&#10;- Text Blocks&#10;&#10;### Aprende Más&#10;- **Clean Code:** Libro de Robert C. Martin&#10;- **Effective Java:** Libro de Joshua Bloch&#10;- **Refactoring:** Libro de Martin Fowler&#10;&#10;---&#10;&#10;##  Checklist de Inicio Rápido&#10;&#10;- [ ] Java 25 instalado y verificado&#10;- [ ] Proyecto clonado&#10;- [ ] `gradle.properties` creado con tus credenciales de GitHub&#10;- [ ] `config.json` creado con tu API key&#10;- [ ] `gradlew.bat build` ejecuta sin errores&#10;- [ ] `gradlew.bat run` se conecta al servidor y muestra &quot;Login successful&quot;&#10;- [ ] IDE configurado (IntelliJ recomendado)&#10;- [ ] Leído AGENTS.md para entender principios de código&#10;- [ ] Primer commit realizado&#10;&#10;---&#10;&#10;##  Tips Finales&#10;&#10;1. **Empieza Simple:** No intentes implementar todo a la vez&#10;2. **Prueba Frecuentemente:** Ejecuta la app después de cada cambio&#10;3. **Lee los Logs:** La consola te dice exactamente qué está pasando&#10;4. **Usa el UIService:** Imprime información para debug&#10;5. **Pregunta:** Si algo no funciona, pide ayuda al equipo&#10;6. **Git es tu amigo:** Haz commits frecuentes para poder volver atrás&#10;7. **Documenta:** Comenta el &quot;por qué&quot;, no el &quot;qué&quot;&#10;&#10;---&#10;&#10;**¡Éxito con el desarrollo! **&#10;&#10;" />
              <option name="updatedContent" value="#  Guía de Desarrollo - Trading Bot Client&#10;&#10;&gt; ** ¿Nuevo en el proyecto?** Comienza con **[INDICE.md](documentacion/INDICE.md)** para saber por dónde empezar.&#10;&gt;&#10;&gt; ** ¿Es tu primer día?** Ve directo a **[TUTORIAL_PRIMER_DIA.md](documentacion/TUTORIAL_PRIMER_DIA.md)** - configuración paso a paso en 2-3 horas.&#10;&#10;---&#10;&#10;##  Tabla de Contenidos&#10;1. [Requisitos Mínimos](#requisitos-mínimos)&#10;2. [Configuración Inicial](#configuración-inicial)&#10;3. [Estructura del Proyecto](#estructura-del-proyecto)&#10;4. [Arquitectura y Componentes](#arquitectura-y-componentes)&#10;5. [Cómo Probar que Funciona](#cómo-probar-que-funciona)&#10;6. [Desarrollo de Lógica de Negocio](#desarrollo-de-lógica-de-negocio)&#10;7. [Estándares de Código](#estándares-de-código)&#10;8. [Comandos Útiles](#comandos-útiles)&#10;9. [Solución de Problemas](#solución-de-problemas)&#10;&#10;---&#10;&#10;##  Requisitos Mínimos&#10;&#10;### Software Necesario&#10;1. **Java Development Kit (JDK) 25**&#10;   - Descargar de: https://www.oracle.com/java/technologies/downloads/&#10;   - Verificar instalación: `java -version`&#10;   - Debe mostrar versión 25.x.x&#10;&#10;2. **Git**&#10;   - Descargar de: https://git-scm.com/&#10;   - Verificar: `git --version`&#10;&#10;3. **IDE Recomendado**&#10;   - IntelliJ IDEA Community/Ultimate (recomendado)&#10;   - Eclipse con soporte Java 25&#10;   - VS Code con extensión Java&#10;&#10;4. **Cuenta de GitHub**&#10;   - Necesaria para acceder al SDK privado&#10;   - Crear token de acceso personal (PAT)&#10;&#10;### Conocimientos Previos Recomendados&#10;- Java básico (clases, interfaces, excepciones)&#10;- Conceptos de programación orientada a objetos&#10;- Uso básico de Git&#10;- JSON básico&#10;&#10;---&#10;&#10;## ⚙️ Configuración Inicial&#10;&#10;### Paso 1: Clonar el Repositorio&#10;```bash&#10;git clone https://github.com/tu-usuario/Proyecto-Avanzada-Java.git&#10;cd Proyecto-Avanzada-Java&#10;```&#10;&#10;### Paso 2: Configurar Credenciales de GitHub&#10;El proyecto usa un SDK privado de GitHub Packages. Necesitas configurar tus credenciales:&#10;&#10;1. **Crear archivo `gradle.properties`** en la raíz del proyecto (copia del sample):&#10;```bash&#10;copy gradle.properties.sample gradle.properties&#10;```&#10;&#10;2. **Editar `gradle.properties`** con tus credenciales:&#10;```properties&#10;gpr.user=TU_USUARIO_GITHUB&#10;gpr.token=TU_TOKEN_GITHUB&#10;&#10;org.gradle.daemon=true&#10;org.gradle.caching=true&#10;org.gradle.configuration-cache=true&#10;```&#10;&#10;3. **Crear GitHub Personal Access Token (PAT)**:&#10;   - Ve a GitHub → Settings → Developer settings → Personal access tokens → Tokens (classic)&#10;   - Click &quot;Generate new token (classic)&quot;&#10;   - Selecciona el scope: `read:packages`&#10;   - Copia el token generado y pégalo en `gradle.properties`&#10;&#10;### Paso 3: Configurar el Archivo de Configuración&#10;1. **Crear archivo de configuración** (copia del sample):&#10;```bash&#10;copy src\main\resources\config.sample.json src\main\resources\config.json&#10;```&#10;&#10;2. **Editar `src\main\resources\config.json`** con tus credenciales del servidor:&#10;```json&#10;{&#10;  &quot;apiKey&quot;: &quot;TU_API_KEY_DEL_SERVIDOR&quot;,&#10;  &quot;team&quot;: &quot;Nombre de Tu Equipo&quot;,&#10;  &quot;host&quot;: &quot;wss://trading.hellsoft.tech/ws&quot;&#10;}&#10;```&#10;&#10;⚠️ **IMPORTANTE**: Los archivos `gradle.properties` y `config.json` están en `.gitignore`. &#10;**NUNCA los subas a Git** porque contienen información sensible.&#10;&#10;### Paso 4: Verificar la Instalación&#10;```bash&#10;# En Windows&#10;gradlew.bat build&#10;&#10;# Debería compilar sin errores&#10;```&#10;&#10;---&#10;&#10;##  Estructura del Proyecto&#10;&#10;```&#10;Proyecto-Avanzada-Java/&#10;├── src/main/java/tech/hellsoft/trading/&#10;│   ├── Main.java                          # Punto de entrada de la aplicación&#10;│   ├── config/&#10;│   │   └── Configuration.java             # Record para configuración&#10;│   ├── exception/&#10;│   │   ├── ConfiguracionInvalidaException.java&#10;│   │   └── TradingException.java          # Excepciones del dominio&#10;│   ├── model/&#10;│   │   ├── Recipe.java                    # Modelo de recetas de productos&#10;│   │   └── Role.java                      # Modelo de roles de jugador&#10;│   ├── service/&#10;│   │   ├── TradingService.java            # Interface principal de trading&#10;│   │   ├── UIService.java                 # Interface para UI/consola&#10;│   │   └── impl/&#10;│   │       ├── SDKTradingService.java     # Implementación con SDK&#10;│   │       └── ConsoleUIService.java      # Implementación de consola&#10;│   └── util/&#10;│       ├── ConfigLoader.java              # Utilidad para cargar config&#10;│       └── TradingUtils.java              # Utilidades generales&#10;├── src/main/resources/&#10;│   ├── config.json                        # TU configuración (no subir a Git)&#10;│   └── config.sample.json                 # Plantilla de configuración&#10;├── build.gradle.kts                       # Configuración de Gradle&#10;├── gradle.properties                      # TUS credenciales (no subir a Git)&#10;└── gradle.properties.sample               # Plantilla de credenciales&#10;```&#10;&#10;---&#10;&#10;## ️ Arquitectura y Componentes&#10;&#10;### Componentes Principales&#10;&#10;#### 1. **Main.java** - Punto de Entrada&#10;- Inicializa todos los servicios&#10;- Carga la configuración&#10;- Maneja el ciclo de vida de la aplicación&#10;- Gestiona el shutdown gracefully&#10;&#10;#### 2. **TradingService** - Servicio Principal&#10;**Interface**: Define el contrato para operaciones de trading&#10;```java&#10;public interface TradingService {&#10;    void start(Configuration config);&#10;    void stop();&#10;    boolean isRunning();&#10;}&#10;```&#10;&#10;**SDKTradingService**: Implementación que:&#10;- Se conecta al servidor WebSocket&#10;- Maneja eventos del servidor (login, órdenes, tickers, etc.)&#10;- **AQUÍ es donde ustedes agregarán la lógica de trading**&#10;&#10;#### 3. **UIService** - Servicio de Interfaz&#10;- Imprime mensajes en la consola con colores&#10;- Muestra estado del bot&#10;- Útil para debugging&#10;&#10;#### 4. **Configuration** - Configuración&#10;Record inmutable que contiene:&#10;- `apiKey`: Tu clave de API del servidor&#10;- `team`: Nombre de tu equipo&#10;- `host`: URL del servidor WebSocket&#10;&#10;#### 5. **Modelos de Dominio**&#10;- **Recipe**: Representa recetas de productos (qué ingredientes se necesitan)&#10;- **Role**: Representa el rol del jugador (energía, niveles, etc.)&#10;&#10;---&#10;&#10;## ✅ Cómo Probar que Funciona&#10;&#10;### Prueba 1: Compilación Exitosa&#10;```bash&#10;gradlew.bat clean build&#10;```&#10;&#10;**Resultado esperado:**&#10;```&#10;BUILD SUCCESSFUL in Xs&#10;```&#10;&#10;### Prueba 2: Ejecutar la Aplicación&#10;```bash&#10;gradlew.bat run&#10;```&#10;&#10;**Resultado esperado:**&#10;```&#10;╔══════════════════════════════════════════════════════════════╗&#10;║                                                              ║&#10;║   SPACIAL TRADING BOT CLIENT - Java 25 Edition          ║&#10;║                                                              ║&#10;║   Bolsa Interestelar de Aguacates Andorianos              ║&#10;║  Ready for trading operations...                            ║&#10;║                                                              ║&#10;╚════════════════════════════════════════════════════════════╝&#10;&#10;ℹ️  Configuration loaded successfully:&#10;   Team: Nombre de Tu Equipo&#10;   Host: wss://trading.hellsoft.tech/ws&#10;   API Key: sk_t***xxxx&#10;&#10; Connecting to trading server...&#10;⏳ Waiting for login response...&#10;✅ Login successful! Ready for trading operations.&#10;✅ Login OK received!&#10;   Team: tu-equipo&#10;   Species: HUMANO&#10;   Initial Balance: 1000000.0&#10;   Current Balance: 1000000.0&#10;&#10;ℹ️  Press Ctrl+C to shutdown gracefully...&#10;```&#10;&#10;### Prueba 3: Verificar Linting (Calidad de Código)&#10;```bash&#10;gradlew.bat checkstyleMain pmdMain&#10;```&#10;&#10;**Resultado esperado:** Sin errores críticos&#10;&#10;### Prueba 4: Ejecutar Tests (cuando existan)&#10;```bash&#10;gradlew.bat test&#10;```&#10;&#10;---&#10;&#10;##  Desarrollo de Lógica de Negocio&#10;&#10;### ¿Dónde Agregar Tu Código?&#10;&#10;#### Opción 1: Modificar SDKTradingService&#10;El archivo `SDKTradingService.java` ya tiene un `EventListener` interno que recibe eventos del servidor.&#10;&#10;**Eventos que recibes del servidor:**&#10;- `onLoginOk()` - Cuando te conectas exitosamente&#10;- `onTicker()` - Actualización de precios de mercado&#10;- `onOffer()` - Ofertas de compra/venta&#10;- `onFill()` - Cuando se ejecuta una orden&#10;- `onInventoryUpdate()` - Cambios en tu inventario&#10;- `onBalanceUpdate()` - Cambios en tu saldo&#10;- `onOrderAck()` - Confirmación de órdenes&#10;- `onError()` - Errores del servidor&#10;&#10;**Ejemplo de cómo agregar lógica:**&#10;&#10;```java&#10;@Override&#10;public void onTicker(TickerMessage ticker) {&#10;    listenerUiService.printStatus(&quot;&quot;,&#10;        &quot;Ticker update: &quot; + ticker.getProduct() + &#10;        &quot; Bid:&quot; + ticker.getBestBid() + &#10;        &quot; Ask:&quot; + ticker.getBestAsk());&#10;    &#10;    //  AGREGA TU LÓGICA AQUÍ&#10;    analizarOportunidadDeCompra(ticker);&#10;}&#10;&#10;private void analizarOportunidadDeCompra(TickerMessage ticker) {&#10;    // Tu estrategia de trading aquí&#10;    if (ticker.getBestAsk() &lt; precioObjetivo) {&#10;        // Enviar orden de compra&#10;        connector.enviarOrden(...);&#10;    }&#10;}&#10;```&#10;&#10;#### Opción 2: Crear Nuevos Servicios&#10;Puedes crear nuevos servicios especializados:&#10;&#10;**Ejemplo: StrategyService**&#10;```java&#10;// src/main/java/tech/hellsoft/trading/service/StrategyService.java&#10;public interface StrategyService {&#10;    Decision analizarMercado(TickerMessage ticker);&#10;    boolean deberiaComprar(String producto, double precio);&#10;    boolean deberiaVender(String producto, double precio);&#10;}&#10;```&#10;&#10;**Ejemplo: InventoryManager**&#10;```java&#10;// src/main/java/tech/hellsoft/trading/service/InventoryManager.java&#10;public class InventoryManager {&#10;    private Map&lt;String, Integer&gt; inventarioActual = new HashMap&lt;&gt;();&#10;    &#10;    public void actualizar(InventoryUpdateMessage update) {&#10;        // Mantener registro de tu inventario&#10;    }&#10;    &#10;    public boolean tieneStock(String producto, int cantidad) {&#10;        return inventarioActual.getOrDefault(producto, 0) &gt;= cantidad;&#10;    }&#10;}&#10;```&#10;&#10;### Casos de Uso Típicos&#10;&#10;#### Caso 1: Market Maker Simple&#10;```java&#10;// Comprar barato, vender caro con un spread&#10;@Override&#10;public void onTicker(TickerMessage ticker) {&#10;    double spread = 0.05; // 5% de ganancia&#10;    &#10;    if (ticker.getBestAsk() &gt; 0) {&#10;        double precioCompra = ticker.getBestAsk();&#10;        double precioVenta = precioCompra * (1 + spread);&#10;        &#10;        // Comprar al mejor precio de venta&#10;        // Vender a precio + spread&#10;    }&#10;}&#10;```&#10;&#10;#### Caso 2: Arbitraje de Productos&#10;```java&#10;// Comprar productos básicos, crear productos complejos&#10;public void intentarCrafteo(Recipe receta) {&#10;    // 1. Verificar que tienes todos los ingredientes&#10;    // 2. Calcular costo total de ingredientes&#10;    // 3. Comparar con precio de venta del producto final&#10;    // 4. Si es rentable, realizar el crafteo&#10;}&#10;```&#10;&#10;#### Caso 3: Gestión de Riesgo&#10;```java&#10;public class RiskManager {&#10;    private double maxExposurePorProducto = 0.1; // 10% del capital&#10;    &#10;    public boolean puedeComprar(String producto, int cantidad, double precio) {&#10;        double exposicion = cantidad * precio;&#10;        double capitalTotal = obtenerCapitalTotal();&#10;        &#10;        return exposicion &lt;= (capitalTotal * maxExposurePorProducto);&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;##  Estándares de Código&#10;&#10;### Regla de Oro: **NO usar `else`**&#10;&#10;❌ **MAL:**&#10;```java&#10;if (precio &gt; 100) {&#10;    comprar();&#10;} else {&#10;    vender();&#10;}&#10;```&#10;&#10;✅ **BIEN:**&#10;```java&#10;if (precio &gt; 100) {&#10;    comprar();&#10;    return;&#10;}&#10;vender();&#10;```&#10;&#10;### Convenciones de Nombres&#10;&#10;```java&#10;// Clases: UpperCamelCase&#10;public class OrdenManager { }&#10;&#10;// Métodos y variables: lowerCamelCase&#10;private double precioActual;&#10;public void calcularGanancia() { }&#10;&#10;// Constantes: UPPER_SNAKE_CASE&#10;private static final int MAX_INTENTOS = 3;&#10;&#10;// Packages: lowercase&#10;package tech.hellsoft.trading.strategy;&#10;```&#10;&#10;### Guard Clauses (Cláusulas de Guarda)&#10;&#10;✅ Valida parámetros al inicio:&#10;```java&#10;public void procesarOrden(Orden orden) {&#10;    if (orden == null) {&#10;        throw new IllegalArgumentException(&quot;Orden no puede ser null&quot;);&#10;    }&#10;    if (orden.getCantidad() &lt;= 0) {&#10;        throw new IllegalArgumentException(&quot;Cantidad debe ser positiva&quot;);&#10;    }&#10;    if (!tieneCapital(orden)) {&#10;        throw new SaldoInsuficienteException();&#10;    }&#10;    &#10;    // Lógica principal aquí&#10;    ejecutarOrden(orden);&#10;}&#10;```&#10;&#10;### Uso de Records (Java 25)&#10;&#10;```java&#10;// Para datos inmutables&#10;public record OrdenCompra(&#10;    String producto,&#10;    int cantidad,&#10;    double precio,&#10;    LocalDateTime timestamp&#10;) {&#10;    // Validación en el constructor compacto&#10;    public OrdenCompra {&#10;        if (cantidad &lt;= 0) {&#10;            throw new IllegalArgumentException(&quot;Cantidad inválida&quot;);&#10;        }&#10;    }&#10;}&#10;```&#10;&#10;### Manejo de Excepciones&#10;&#10;```java&#10;// Crea excepciones específicas de tu dominio&#10;public class CapitalInsuficienteException extends TradingException {&#10;    public CapitalInsuficienteException(double requerido, double disponible) {&#10;        super(String.format(&quot;Capital insuficiente. Requerido: %.2f, Disponible: %.2f&quot;,&#10;            requerido, disponible));&#10;    }&#10;}&#10;```&#10;&#10;---&#10;&#10;## ️ Comandos Útiles&#10;&#10;### Compilación y Build&#10;```bash&#10;# Limpiar y compilar todo&#10;gradlew.bat clean build&#10;&#10;# Solo compilar (sin tests ni linting)&#10;gradlew.bat compileJava&#10;&#10;# Ver dependencias&#10;gradlew.bat dependencies&#10;```&#10;&#10;### Ejecución&#10;```bash&#10;# Ejecutar la aplicación&#10;gradlew.bat run&#10;&#10;# Ejecutar con argumentos (si agregas soporte)&#10;gradlew.bat run --args=&quot;--config custom.json&quot;&#10;```&#10;&#10;### Calidad de Código&#10;```bash&#10;# Checkstyle (estilo de código)&#10;gradlew.bat checkstyleMain&#10;&#10;# PMD (detección de bugs)&#10;gradlew.bat pmdMain&#10;&#10;# Formatear código automáticamente&#10;gradlew.bat spotlessApply&#10;&#10;# Ver reportes de calidad&#10;# Abrir: build/reports/checkstyle/main.html&#10;# Abrir: build/reports/pmd/main.html&#10;```&#10;&#10;### Testing&#10;```bash&#10;# Ejecutar todos los tests&#10;gradlew.bat test&#10;&#10;# Ejecutar tests específicos&#10;gradlew.bat test --tests &quot;ConfigLoaderTest&quot;&#10;&#10;# Ver reporte de tests&#10;# Abrir: build/reports/tests/test/index.html&#10;```&#10;&#10;### Empaquetado&#10;```bash&#10;# Crear JAR ejecutable&#10;gradlew.bat jar&#10;&#10;# Crear distribución completa&#10;gradlew.bat distZip&#10;&#10;# El JAR estará en: build/libs/&#10;# La distribución en: build/distributions/&#10;```&#10;&#10;---&#10;&#10;##  Solución de Problemas&#10;&#10;### Error: &quot;Configuration file not found&quot;&#10;**Causa:** No existe `src/main/resources/config.json`&#10;&#10;**Solución:**&#10;```bash&#10;copy src\main\resources\config.sample.json src\main\resources\config.json&#10;```&#10;Luego edita `config.json` con tus credenciales.&#10;&#10;### Error: &quot;401 Unauthorized&quot; al compilar&#10;**Causa:** Credenciales de GitHub incorrectas o faltantes&#10;&#10;**Solución:**&#10;1. Verifica que existe `gradle.properties`&#10;2. Verifica que `gpr.user` es tu usuario de GitHub&#10;3. Verifica que `gpr.token` es un PAT válido con permiso `read:packages`&#10;4. Regenera el token si es necesario&#10;&#10;### Error: &quot;Login failed&quot;&#10;**Causa:** API key incorrecta o servidor no disponible&#10;&#10;**Solución:**&#10;1. Verifica que `config.json` tiene el `apiKey` correcto&#10;2. Verifica que el servidor está corriendo&#10;3. Verifica la URL del `host` en `config.json`&#10;&#10;### La aplicación se cierra inmediatamente&#10;**Causa:** Error en la lógica del método `isRunning()`&#10;&#10;**Solución:**&#10;- Revisa los logs en la consola&#10;- Verifica que `tradingService.start()` se ejecuta correctamente&#10;- Agrega más logging en `SDKTradingService`&#10;&#10;### Errores de Checkstyle/PMD&#10;**Causa:** Código no cumple con los estándares&#10;&#10;**Solución:**&#10;```bash&#10;# Ver errores específicos&#10;gradlew.bat checkstyleMain&#10;&#10;# Formatear automáticamente (arregla muchos errores)&#10;gradlew.bat spotlessApply&#10;&#10;# Ver reporte detallado&#10;# Abrir: build/reports/checkstyle/main.html&#10;```&#10;&#10;### OutOfMemoryError&#10;**Causa:** Gradle necesita más memoria&#10;&#10;**Solución:** Edita `gradle.properties`:&#10;```properties&#10;org.gradle.jvmargs=-Xmx2048m -XX:MaxMetaspaceSize=512m&#10;```&#10;&#10;### IDE no reconoce clases del SDK&#10;**Causa:** Dependencies no sincronizadas&#10;&#10;**Solución en IntelliJ:**&#10;1. Click derecho en el proyecto → &quot;Reload Gradle Project&quot;&#10;2. File → Invalidate Caches → Invalidate and Restart&#10;&#10;---&#10;&#10;##  Flujo de Trabajo Recomendado&#10;&#10;### Para Empezar a Desarrollar&#10;&#10;1. **Crear una rama para tu feature**&#10;```bash&#10;git checkout -b feature/mi-estrategia-trading&#10;```&#10;&#10;2. **Escribir el código**&#10;   - Implementa tu lógica en `SDKTradingService` o crea nuevos servicios&#10;   - Sigue los estándares de código (no `else`, guard clauses, etc.)&#10;&#10;3. **Probar localmente**&#10;```bash&#10;gradlew.bat build&#10;gradlew.bat run&#10;```&#10;&#10;4. **Verificar calidad de código**&#10;```bash&#10;gradlew.bat checkstyleMain pmdMain&#10;gradlew.bat spotlessApply  # Si hay errores de formato&#10;```&#10;&#10;5. **Commit y Push**&#10;```bash&#10;git add .&#10;git commit -m &quot;feat: implementar estrategia de arbitraje&quot;&#10;git push origin feature/mi-estrategia-trading&#10;```&#10;&#10;6. **Crear Pull Request en GitHub**&#10;&#10;### Trabajo en Equipo&#10;&#10;- **Comunicación:** Coordinen quién trabaja en qué para evitar conflictos&#10;- **Code Reviews:** Revisen el código de otros antes de mergear&#10;- **Testing:** Prueben los cambios de otros en sus máquinas&#10;- **Documentación:** Comenten código complejo&#10;- **Git:** Hagan commits pequeños y frecuentes con mensajes claros&#10;&#10;---&#10;&#10;##  Recursos Adicionales&#10;&#10;### Documentación del SDK&#10;- Ver `ConectorBolsa` y sus métodos&#10;- Ver DTOs en `tech.hellsoft.trading.dto.server.*`&#10;- Ver `EventListener` y todos los eventos disponibles&#10;&#10;### Java 25 Features&#10;- Records&#10;- Pattern Matching&#10;- Switch Expressions&#10;- Text Blocks&#10;&#10;### Aprende Más&#10;- **Clean Code:** Libro de Robert C. Martin&#10;- **Effective Java:** Libro de Joshua Bloch&#10;- **Refactoring:** Libro de Martin Fowler&#10;&#10;---&#10;&#10;##  Checklist de Inicio Rápido&#10;&#10;- [ ] Java 25 instalado y verificado&#10;- [ ] Proyecto clonado&#10;- [ ] `gradle.properties` creado con tus credenciales de GitHub&#10;- [ ] `config.json` creado con tu API key&#10;- [ ] `gradlew.bat build` ejecuta sin errores&#10;- [ ] `gradlew.bat run` se conecta al servidor y muestra &quot;Login successful&quot;&#10;- [ ] IDE configurado (IntelliJ recomendado)&#10;- [ ] Leído AGENTS.md para entender principios de código&#10;- [ ] Primer commit realizado&#10;&#10;---&#10;&#10;##  Tips Finales&#10;&#10;1. **Empieza Simple:** No intentes implementar todo a la vez&#10;2. **Prueba Frecuentemente:** Ejecuta la app después de cada cambio&#10;3. **Lee los Logs:** La consola te dice exactamente qué está pasando&#10;4. **Usa el UIService:** Imprime información para debug&#10;5. **Pregunta:** Si algo no funciona, pide ayuda al equipo&#10;6. **Git es tu amigo:** Haz commits frecuentes para poder volver atrás&#10;7. **Documenta:** Comenta el &quot;por qué&quot;, no el &quot;qué&quot;&#10;&#10;---&#10;&#10;**¡Éxito con el desarrollo! **&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>